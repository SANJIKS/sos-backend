{% extends "admin/base_site.html" %}
{% load static %}

{% block title %}–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏{% endblock %}

{% block extrastyle %}
<style>
    .two-factor-container {
        max-width: 500px;
        margin: 50px auto;
        padding: 30px;
        background: white;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    
    .two-factor-header {
        text-align: center;
        margin-bottom: 30px;
    }
    
    .two-factor-header h1 {
        color: #333;
        font-size: 24px;
        margin-bottom: 10px;
    }
    
    .two-factor-header p {
        color: #666;
        font-size: 14px;
        line-height: 1.5;
    }
    
    .info-box {
        background-color: #e3f2fd;
        border: 1px solid #2196f3;
        border-radius: 4px;
        padding: 15px;
        margin: 20px 0;
        font-size: 14px;
        color: #1976d2;
    }
    
    .warning-box {
        background-color: #fff3e0;
        border: 1px solid #ff9800;
        border-radius: 4px;
        padding: 15px;
        margin: 20px 0;
        font-size: 14px;
        color: #f57c00;
    }
    
    .btn {
        width: 100%;
        padding: 12px;
        border: none;
        border-radius: 4px;
        font-size: 16px;
        font-weight: 500;
        cursor: pointer;
        transition: background-color 0.2s;
    }
    
    .btn-primary {
        background-color: #007cba;
        color: white;
    }
    
    .btn-primary:hover {
        background-color: #005a87;
    }
    
    .btn-secondary {
        background-color: #f0f0f0;
        color: #333;
        margin-top: 10px;
    }
    
    .btn-secondary:hover {
        background-color: #e0e0e0;
    }
    
    .error-message {
        background-color: #f8d7da;
        color: #721c24;
        padding: 10px;
        border-radius: 4px;
        margin-bottom: 20px;
        font-size: 14px;
    }
    
    .success-message {
        background-color: #d4edda;
        color: #155724;
        padding: 10px;
        border-radius: 4px;
        margin-bottom: 20px;
        font-size: 14px;
    }
    
    .steps {
        margin: 20px 0;
    }
    
    .step {
        display: flex;
        align-items: flex-start;
        margin-bottom: 15px;
        padding: 10px;
        background-color: #f8f9fa;
        border-radius: 4px;
    }
    
    .step-number {
        background-color: #007cba;
        color: white;
        width: 24px;
        height: 24px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 12px;
        font-weight: bold;
        margin-right: 15px;
        flex-shrink: 0;
    }
    
    .step-content {
        flex: 1;
    }
    
    .step-title {
        font-weight: 500;
        margin-bottom: 5px;
        color: #333;
    }
    
    .step-description {
        font-size: 14px;
        color: #666;
        line-height: 1.4;
    }
</style>
{% endblock %}

{% block content %}
<div class="two-factor-container">
    <div class="two-factor-header">
        <h1>üîê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏</h1>
        <p>–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–∫–ª—é—á–∏—Ç—å –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é</p>
    </div>
    
    {% if messages %}
        {% for message in messages %}
            <div class="{% if message.tags == 'error' %}error-message{% else %}success-message{% endif %}">
                {{ message }}
            </div>
        {% endfor %}
    {% endif %}
    
    <div class="info-box">
        <strong>‚ÑπÔ∏è –ß—Ç–æ —Ç–∞–∫–æ–µ –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è?</strong><br>
        –≠—Ç–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –∑–∞—â–∏—Ç—ã, –∫–æ—Ç–æ—Ä—ã–π —Ç—Ä–µ–±—É–µ—Ç –≤–≤–æ–¥–∞ –∫–æ–¥–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è 
        –ø–æ–º–∏–º–æ –ø–∞—Ä–æ–ª—è –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ —Å–∏—Å—Ç–µ–º—É.
    </div>
    
    <div class="warning-box">
        <strong>‚ö†Ô∏è –í–∞–∂–Ω–æ!</strong><br>
        –ü–æ—Å–ª–µ –≤–∫–ª—é—á–µ–Ω–∏—è 2FA –≤—ã –±—É–¥–µ—Ç–µ –ø–æ–ª—É—á–∞—Ç—å –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –Ω–∞ email 
        {{ user.email }} –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—Ö–æ–¥–µ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å.
    </div>
    
    <div class="steps">
        <div class="step">
            <div class="step-number">1</div>
            <div class="step-content">
                <div class="step-title">–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–í–∫–ª—é—á–∏—Ç—å 2FA"</div>
                <div class="step-description">–°–∏—Å—Ç–µ–º–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –Ω–∞ –≤–∞—à email</div>
            </div>
        </div>
        
        <div class="step">
            <div class="step-number">2</div>
            <div class="step-content">
                <div class="step-title">–ü—Ä–æ–≤–µ—Ä—å—Ç–µ email</div>
                <div class="step-description">–ù–∞–π–¥–∏—Ç–µ –ø–∏—Å—å–º–æ —Å –∫–æ–¥–æ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è</div>
            </div>
        </div>
        
        <div class="step">
            <div class="step-number">3</div>
            <div class="step-content">
                <div class="step-title">–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥</div>
                <div class="step-description">–ù–∞ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤–≤–µ–¥–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –∫–æ–¥</div>
            </div>
        </div>
        
        <div class="step">
            <div class="step-number">4</div>
            <div class="step-content">
                <div class="step-title">–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–¥—ã</div>
                <div class="step-description">–°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–¥—ã –Ω–∞ —Å–ª—É—á–∞–π –ø–æ—Ç–µ—Ä–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ email</div>
            </div>
        </div>
    </div>
    
    <form method="post">
        {% csrf_token %}
        <button type="submit" class="btn btn-primary">–í–∫–ª—é—á–∏—Ç—å –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é</button>
    </form>
    
    <form method="post" action="{% url 'admin:logout' %}" style="margin-top: 10px;">
        {% csrf_token %}
        <button type="submit" class="btn btn-secondary" style="width: 100%;">
            –í—ã–π—Ç–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
        </button>
    </form>
</div>
{% endblock %} 